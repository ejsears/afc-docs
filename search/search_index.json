{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Add Title Here","text":""},{"location":"#this-page-should-be-a-generic-landing-page-explaining-how-to-use-the-site-etc","title":"This page should be a generic landing page explaining how to use the site, etc","text":""},{"location":"installation/getting-started/","title":"AFC-Klipper-Add-On Software Installation Guide","text":"<p>This Klipper plugin is for use with modern filament control systems such as BoxTurtle, NightOwl etc.</p> <p>More information about BoxTurtle can be found here</p> <p>Note</p> <p>All examples in this section assume that you are running the command on your SBC that the <code>AFC-Klipper-Add-On</code> software is installed on.</p>"},{"location":"installation/getting-started/#installation","title":"Installation","text":""},{"location":"installation/getting-started/#step-1-prerequisites","title":"Step 1: Prerequisites","text":"<p>The <code>AFC-Klipper-Add-On</code> has the following pre-requisites:</p> <ul> <li>Klipper</li> <li>Moonraker</li> <li>WebUI (Mainsail or Fluidd)</li> <li>Python3 &gt;= 3.8</li> </ul> <p>The following software prerequisites should also be available on your system: </p> <ul> <li>jq</li> <li>crudini</li> <li>git</li> </ul> <p>With a Debian based system, you can install these prerequisites with the following command:</p> <pre><code>sudo apt-get install jq crudini git\n</code></pre>"},{"location":"installation/getting-started/#step-2-clone-the-git-repository","title":"Step 2: Clone the git repository","text":"<p>The <code>AFC-Klipper-Add-On</code> software is available on GitHub. You can clone the repository with the following command:</p> Command LineExplanation <pre><code>cd ~\ngit clone https://github.com/ArmoredTurtle/AFC-Klipper-Add-On.git\ncd AFC-Klipper-Add-On\n</code></pre> <p>Running these commands will clone the <code>AFC-Klipper-Add-On</code> repository to your home directory and change to the directory.</p>"},{"location":"installation/getting-started/#step-3-start-the-installation-process","title":"Step 3: Start the installation process","text":"<p>From within the <code>AFC-Klipper-Add-On</code> directory, you can start the installation process with the following command:</p> <pre><code>./install-afc.sh\n</code></pre> <p>Running this script will start the installation process and walk you through a guided series of prompts to help you  configure the software on your system.</p>"},{"location":"installation/getting-started/#runtime-options","title":"Runtime Options","text":"<p>If you need to configure your system for a non-standard installation, various run-time options are available. Further information on these runtime options is available here</p>"},{"location":"installation/runtime-options/","title":"AFC-Klipper-Add-On Software runtime options","text":""},{"location":"installation/runtime-options/#usage","title":"Usage","text":"<p>Usage instructions for the <code>install-afc.sh</code> script can be shown at any time by running the following command:</p> <pre><code>./install-afc.sh -h\n</code></pre> <p>An example output is shown below:</p> <pre><code>Usage: install-afc.sh [options]\n\nOptions:\n  -a &lt;moonraker address&gt;      Specify the address of the Moonraker server (default: http://localhost)\n  -k &lt;path&gt;                   Specify the path to the Klipper directory\n  -m &lt;moonraker config path&gt;  Specify the path to the Moonraker config file (default: ~/printer_data/config/moonraker.conf)\n  -n &lt;moonraker port&gt;         Specify the port of the Moonraker server (default: 7125)\n  -s &lt;klipper service name&gt;   Specify the name of the Klipper service (default: klipper)\n  -p &lt;printer config dir&gt;     Specify the path to the printer config directory (default: ~/printer_data/config)\n  -b &lt;branch&gt;                 Specify the branch to use (default: main)\n  -y &lt;klipper venv dir&gt;       Specify the klipper python venv dir (default: ~/klippy-env/bin)\n  -h                          Display this help message\n\nExample:\n ./install-afc.sh [-a &lt;moonraker address&gt;] [-k &lt;klipper_path&gt;] [-s &lt;klipper_service_name&gt;] [-m &lt;moonraker_config_path&gt;] [-n &lt;moonraker_port&gt;] [-p &lt;printer_config_dir&gt;] [-b &lt;branch&gt;] [-y &lt;klipper venv dir&gt;] [-h]\n</code></pre> <p>Each of these runtime options is explained in further detail below:</p>"},{"location":"installation/runtime-options/#runtime-command-line-options","title":"Runtime / Command-Line Options","text":""},{"location":"installation/runtime-options/#-a-moonraker-address","title":"<code>-a &lt;moonraker address&gt;</code>","text":"DescriptionMore information <p>Specify the address of the Moonraker server. The default value is <code>http://localhost</code>.</p> <p>This option allows you to specify the address of the Moonraker server. If you are running Moonraker on a different  machine, you can specify the address here. Another common use case is if your Moonraker instance requires <code>https</code>  instead of <code>http</code> to connect.</p>"},{"location":"installation/runtime-options/#-k-path","title":"<code>-k &lt;path&gt;</code>","text":"DescriptionMore information <p>Specify the path to the Klipper directory. The default value is <code>\"$HOME/klipper\"</code>.</p> <p>This option allows you to specify the path to the Klipper directory. If you have installed Klipper in a non-standard  location, you can specify the path here.</p>"},{"location":"installation/runtime-options/#-p-printer-config-dir","title":"<code>-p &lt;printer config dir&gt;</code>","text":"DescriptionMore information <p>Specify the path to the printer config directory. The default value is <code>\"$HOME/printer_data/config\"</code>.</p> <p>This option allows you to specify the path to the printer config directory. If you have your printer configuration files  in a non-standard location, you can specify the path here. This is a common option for less common installations such as  when you are running multiple printers on a single system or have a non-standard configuration / Klipper installation for some printers such as Qidi.</p>"},{"location":"installation/runtime-options/#-m-moonraker-config-path","title":"<code>-m &lt;moonraker config path&gt;</code>","text":"DescriptionMore information <p>Specify the path to the Moonraker config file. The default value is <code>\"$printer_config_dir/moonraker.conf\"</code>.</p> <p>This option allows you to specify the path to the Moonraker config file. If you have your Moonraker configuration file  in a non-standard location, you can specify the path here.</p>"},{"location":"installation/runtime-options/#-n-moonraker-port","title":"<code>-n &lt;moonraker port&gt;</code>","text":"DescriptionMore information <p>Specify the port of the Moonraker server. The default value is <code>7125</code>.</p> <p>This option allows you to specify the port of the Moonraker server. If you have configured Moonraker to run on a  non-standard port, you can specify the port here.</p>"},{"location":"installation/runtime-options/#-s-klipper-service-name","title":"<code>-s &lt;klipper service name&gt;</code>","text":"DescriptionMore information <p>Specify the name of the Klipper service. The default value is <code>klipper</code>.</p> <p>This option allows you to specify the name of the Klipper service. If you have configured Klipper to run as a  different service name, you can specify the service name here. If you have multiple klipper instances running on a  single system, you may have configured them to run as different services. This option allows you to specify the service name for the Klipper instance you want to use with AFC. Common installation tools such as Kiauh allow you to configure multiple Klipper instances on a single system and will oftentimes use service names such as <code>klipper-1</code> or <code>klipper-2</code> if multiple instances are running. </p> <p>Note</p> <p>If you are unsure of the service name, you can check the service name by running the following command: <pre><code>systemctl list-units --type=service | grep klipper\n</code></pre> This service name is also used for alternative firmware such as Kalico or Danger Klipper (deprecated), unless you have configured them to run as a different service name.</p>"},{"location":"installation/runtime-options/#-b-branch","title":"<code>-b &lt;branch&gt;</code>","text":"DescriptionMore information <p>Specify the branch to use. The default value is <code>main</code>.</p> <p>This option allows you to specify the branch to use when using the <code>install-afc.sh</code> installation script. If you want to use a  specific branch, you can specify the branch name here. This is useful if you want to test new features or bug fixes before  they are merged into the main branch and is commonly used for development work or testing. Normal users should not need to specify this option.</p>"},{"location":"installation/runtime-options/#-y-klipper-venv-dir","title":"<code>-y &lt;klipper venv dir&gt;</code>","text":"DescriptionMore information <p>Specify the klipper python venv dir. The default value is <code>\"$HOME/klippy-env/bin\"</code>.</p> <p>This option allows you to specify the path to the Klipper python virtual environment directory. If you have installed Klipper in a python virtual environment and have installed it in a non-standard location, you can specify the path here. On the large majority of use-cases, this setting should not need to be changed, but the option is provided for users who have installed  the virtual environment in a non-standard location.</p>"},{"location":"installation/runtime-options/#-h-help","title":"<code>-h | Help</code>","text":"DescriptionMore information <p>Display the help message.</p> <p>This option displays the help message for the <code>install-afc.sh</code> script. This message provides a summary of the available  runtime options and how to use them. If you are unsure of how to use the script or need a reminder of the available options,  you can use this option to display the help message.</p>"},{"location":"installation/runtime-options/#examples","title":"Examples","text":""},{"location":"installation/runtime-options/#example-1-specifying-the-moonraker-address","title":"Example 1: Specifying the Moonraker address","text":"<pre><code>./install-afc.sh -a https://192.168.1.120\n</code></pre> <p>This would use a Moonraker connection running at https://192.168.1.120</p>"},{"location":"installation/runtime-options/#example-2-specifying-multiple-options","title":"Example 2: Specifying multiple options","text":"<pre><code>./install-afc.sh -a https://192.168.1.120 -p 7126 -k /home/pi/klipper\n</code></pre> <p>You can specify multiple options, however, you cannot use the same option more than a single time.</p>"}]}