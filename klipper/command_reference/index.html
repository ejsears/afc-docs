
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A guide to the AFC Klipper Add-On Software">
      
      
      
        <link rel="canonical" href="https://armoredturtle.xyz/docs/klipper/command_reference/">
      
      
        <link rel="prev" href="../../configuration/configuration_examples/">
      
      
        <link rel="next" href="../macros/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.10">
    
    
      
        <title>Command Reference - AFC-Klipper-Add-On Software Guide</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#afc-klipper-add-on-command-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AFC-Klipper-Add-On Software Guide" class="md-header__button md-logo" aria-label="AFC-Klipper-Add-On Software Guide" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AFC-Klipper-Add-On Software Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Command Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ArmoredTurtle/AFC-Klipper-Add-On" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../installation/getting-started/" class="md-tabs__link">
          
  
  
  Installation / Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../configuration/configuration/" class="md-tabs__link">
          
  
  
  Configuration

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Klipper / Macros

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../troubleshooting/troubleshooting/" class="md-tabs__link">
          
  
  
  Troubleshooting

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AFC-Klipper-Add-On Software Guide" class="md-nav__button md-logo" aria-label="AFC-Klipper-Add-On Software Guide" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    AFC-Klipper-Add-On Software Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ArmoredTurtle/AFC-Klipper-Add-On" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation / Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Installation / Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/runtime-options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Menus
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Menus
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/main-menu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Main Menu
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/install-menu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Menu
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/configuration_options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration Options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/configuration_examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration Examples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Klipper / Macros
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Klipper / Macros
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Command Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Command Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#built-in-afc-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in AFC Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Built-in AFC Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afc_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_lane_reset" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_LANE_RESET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_reset" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_RESET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_resume" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_RESUME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_status" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_STATUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      ALL_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calibrate_afc" class="md-nav__link">
    <span class="md-ellipsis">
      CALIBRATE_AFC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change_tool" class="md-nav__link">
    <span class="md-ellipsis">
      CHANGE_TOOL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_tip_forming" class="md-nav__link">
    <span class="md-ellipsis">
      GET_TIP_FORMING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hub_cut_test" class="md-nav__link">
    <span class="md-ellipsis">
      HUB_CUT_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hub_load" class="md-nav__link">
    <span class="md-ellipsis">
      HUB_LOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lane_move" class="md-nav__link">
    <span class="md-ellipsis">
      LANE_MOVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lane_unload" class="md-nav__link">
    <span class="md-ellipsis">
      LANE_UNLOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      QUERY_BUFFER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset_afc_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      RESET_AFC_MAPPING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset_failure" class="md-nav__link">
    <span class="md-ellipsis">
      RESET_FAILURE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_extruder_values" class="md-nav__link">
    <span class="md-ellipsis">
      SAVE_EXTRUDER_VALUES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_hub_dist" class="md-nav__link">
    <span class="md-ellipsis">
      SAVE_HUB_DIST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_speed_multiplier" class="md-nav__link">
    <span class="md-ellipsis">
      SAVE_SPEED_MULTIPLIER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_afc_toolchanges" class="md-nav__link">
    <span class="md-ellipsis">
      SET_AFC_TOOLCHANGES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_bowden_length" class="md-nav__link">
    <span class="md-ellipsis">
      SET_BOWDEN_LENGTH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_buffer_multiplier" class="md-nav__link">
    <span class="md-ellipsis">
      SET_BUFFER_MULTIPLIER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_buffer_velocity" class="md-nav__link">
    <span class="md-ellipsis">
      SET_BUFFER_VELOCITY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_color" class="md-nav__link">
    <span class="md-ellipsis">
      SET_COLOR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_hub_dist" class="md-nav__link">
    <span class="md-ellipsis">
      SET_HUB_DIST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_lane_loaded" class="md-nav__link">
    <span class="md-ellipsis">
      SET_LANE_LOADED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_map" class="md-nav__link">
    <span class="md-ellipsis">
      SET_MAP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_material" class="md-nav__link">
    <span class="md-ellipsis">
      SET_MATERIAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_rotation_factor" class="md-nav__link">
    <span class="md-ellipsis">
      SET_ROTATION_FACTOR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_runout" class="md-nav__link">
    <span class="md-ellipsis">
      SET_RUNOUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_speed_multiplier" class="md-nav__link">
    <span class="md-ellipsis">
      SET_SPEED_MULTIPLIER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_spool_id" class="md-nav__link">
    <span class="md-ellipsis">
      SET_SPOOL_ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_tip_forming" class="md-nav__link">
    <span class="md-ellipsis">
      SET_TIP_FORMING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_weight" class="md-nav__link">
    <span class="md-ellipsis">
      SET_WEIGHT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    <span class="md-ellipsis">
      TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test_afc_tip_forming" class="md-nav__link">
    <span class="md-ellipsis">
      TEST_AFC_TIP_FORMING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool_load" class="md-nav__link">
    <span class="md-ellipsis">
      TOOL_LOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool_unload" class="md-nav__link">
    <span class="md-ellipsis">
      TOOL_UNLOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_afc_led" class="md-nav__link">
    <span class="md-ellipsis">
      TURN_OFF_AFC_LED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_afc_led" class="md-nav__link">
    <span class="md-ellipsis">
      TURN_ON_AFC_LED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_bow_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      UNIT_BOW_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      UNIT_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_lane_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      UNIT_LANE_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unset_lane_loaded" class="md-nav__link">
    <span class="md-ellipsis">
      UNSET_LANE_LOADED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_toolhead_sensors" class="md-nav__link">
    <span class="md-ellipsis">
      UPDATE_TOOLHEAD_SENSORS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afc-macros" class="md-nav__link">
    <span class="md-ellipsis">
      AFC Macros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AFC Macros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bt_tool_unload" class="md-nav__link">
    <span class="md-ellipsis">
      BT_TOOL_UNLOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_change_tool" class="md-nav__link">
    <span class="md-ellipsis">
      BT_CHANGE_TOOL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_lane_eject" class="md-nav__link">
    <span class="md-ellipsis">
      BT_LANE_EJECT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_lane_move" class="md-nav__link">
    <span class="md-ellipsis">
      BT_LANE_MOVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_resume" class="md-nav__link">
    <span class="md-ellipsis">
      BT_RESUME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_prep" class="md-nav__link">
    <span class="md-ellipsis">
      BT_PREP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../macros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Macros
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#built-in-afc-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in AFC Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Built-in AFC Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afc_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_lane_reset" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_LANE_RESET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_reset" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_RESET
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_resume" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_RESUME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afc_status" class="md-nav__link">
    <span class="md-ellipsis">
      AFC_STATUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      ALL_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calibrate_afc" class="md-nav__link">
    <span class="md-ellipsis">
      CALIBRATE_AFC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change_tool" class="md-nav__link">
    <span class="md-ellipsis">
      CHANGE_TOOL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_tip_forming" class="md-nav__link">
    <span class="md-ellipsis">
      GET_TIP_FORMING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hub_cut_test" class="md-nav__link">
    <span class="md-ellipsis">
      HUB_CUT_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hub_load" class="md-nav__link">
    <span class="md-ellipsis">
      HUB_LOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lane_move" class="md-nav__link">
    <span class="md-ellipsis">
      LANE_MOVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lane_unload" class="md-nav__link">
    <span class="md-ellipsis">
      LANE_UNLOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query_buffer" class="md-nav__link">
    <span class="md-ellipsis">
      QUERY_BUFFER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset_afc_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      RESET_AFC_MAPPING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reset_failure" class="md-nav__link">
    <span class="md-ellipsis">
      RESET_FAILURE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_extruder_values" class="md-nav__link">
    <span class="md-ellipsis">
      SAVE_EXTRUDER_VALUES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_hub_dist" class="md-nav__link">
    <span class="md-ellipsis">
      SAVE_HUB_DIST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save_speed_multiplier" class="md-nav__link">
    <span class="md-ellipsis">
      SAVE_SPEED_MULTIPLIER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_afc_toolchanges" class="md-nav__link">
    <span class="md-ellipsis">
      SET_AFC_TOOLCHANGES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_bowden_length" class="md-nav__link">
    <span class="md-ellipsis">
      SET_BOWDEN_LENGTH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_buffer_multiplier" class="md-nav__link">
    <span class="md-ellipsis">
      SET_BUFFER_MULTIPLIER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_buffer_velocity" class="md-nav__link">
    <span class="md-ellipsis">
      SET_BUFFER_VELOCITY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_color" class="md-nav__link">
    <span class="md-ellipsis">
      SET_COLOR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_hub_dist" class="md-nav__link">
    <span class="md-ellipsis">
      SET_HUB_DIST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_lane_loaded" class="md-nav__link">
    <span class="md-ellipsis">
      SET_LANE_LOADED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_map" class="md-nav__link">
    <span class="md-ellipsis">
      SET_MAP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_material" class="md-nav__link">
    <span class="md-ellipsis">
      SET_MATERIAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_rotation_factor" class="md-nav__link">
    <span class="md-ellipsis">
      SET_ROTATION_FACTOR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_runout" class="md-nav__link">
    <span class="md-ellipsis">
      SET_RUNOUT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_speed_multiplier" class="md-nav__link">
    <span class="md-ellipsis">
      SET_SPEED_MULTIPLIER
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_spool_id" class="md-nav__link">
    <span class="md-ellipsis">
      SET_SPOOL_ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_tip_forming" class="md-nav__link">
    <span class="md-ellipsis">
      SET_TIP_FORMING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_weight" class="md-nav__link">
    <span class="md-ellipsis">
      SET_WEIGHT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    <span class="md-ellipsis">
      TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test_afc_tip_forming" class="md-nav__link">
    <span class="md-ellipsis">
      TEST_AFC_TIP_FORMING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool_load" class="md-nav__link">
    <span class="md-ellipsis">
      TOOL_LOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool_unload" class="md-nav__link">
    <span class="md-ellipsis">
      TOOL_UNLOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_afc_led" class="md-nav__link">
    <span class="md-ellipsis">
      TURN_OFF_AFC_LED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_afc_led" class="md-nav__link">
    <span class="md-ellipsis">
      TURN_ON_AFC_LED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_bow_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      UNIT_BOW_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      UNIT_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_lane_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      UNIT_LANE_CALIBRATION
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unset_lane_loaded" class="md-nav__link">
    <span class="md-ellipsis">
      UNSET_LANE_LOADED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_toolhead_sensors" class="md-nav__link">
    <span class="md-ellipsis">
      UPDATE_TOOLHEAD_SENSORS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afc-macros" class="md-nav__link">
    <span class="md-ellipsis">
      AFC Macros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AFC Macros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bt_tool_unload" class="md-nav__link">
    <span class="md-ellipsis">
      BT_TOOL_UNLOAD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_change_tool" class="md-nav__link">
    <span class="md-ellipsis">
      BT_CHANGE_TOOL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_lane_eject" class="md-nav__link">
    <span class="md-ellipsis">
      BT_LANE_EJECT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_lane_move" class="md-nav__link">
    <span class="md-ellipsis">
      BT_LANE_MOVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_resume" class="md-nav__link">
    <span class="md-ellipsis">
      BT_RESUME
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bt_prep" class="md-nav__link">
    <span class="md-ellipsis">
      BT_PREP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="afc-klipper-add-on-command-reference">AFC Klipper Add-On Command Reference<a class="headerlink" href="#afc-klipper-add-on-command-reference" title="Permanent link">&para;</a></h1>
<h2 id="built-in-afc-functions">Built-in AFC Functions<a class="headerlink" href="#built-in-afc-functions" title="Permanent link">&para;</a></h2>
<p>The following commands are built-in the AFC-Klipper-Add-On and are available through 
the Klipper console.</p>
<p>NOTE: LANE/HUB/BUFFER etc. names are case sensitive and should exactly match the names defined in config files</p>
<h3 id="afc_calibration">AFC_CALIBRATION<a class="headerlink" href="#afc_calibration" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Open a prompt to start AFC calibration by selecting a unit to calibrate. Creates buttons for each unit and
allows the option to calibrate all lanes across all units.  </p>
<p>Usage: <code>AFC_CALIBRATION</code><br />
Example: <code>AFC_CALIBRATION</code>  </p>
<h3 id="afc_lane_reset">AFC_LANE_RESET<a class="headerlink" href="#afc_lane_reset" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function resets a specified lane to the hub position in the AFC system. It checks for various error conditions,
such as whether the toolhead is loaded or whether the hub is already clear. The function moves the lane back to the
hub based on the specified or default distances, ensuring the lane's correct state before completing the reset.  </p>
<p>Usage: <code>AFC_LANE_RESET LANE=&lt;lane&gt; DISTANCE=&lt;distance&gt;</code><br />
Example: <code>AFC_LANE_RESET LANE=lane1</code>  </p>
<h3 id="afc_reset">AFC_RESET<a class="headerlink" href="#afc_reset" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function opens a prompt allowing the user to select a loaded lane for reset. It displays a list of loaded lanes
and provides a reset button for each lane. If no lanes are loaded, an informative message is displayed indicating
that a lane must be loaded to proceed with resetting.  </p>
<p>Usage: <code>AFC_RESET DISTANCE=&lt;distance&gt;</code><br />
Example: <code>AFC_RESET LANE=lane1</code>  </p>
<h3 id="afc_resume">AFC_RESUME<a class="headerlink" href="#afc_resume" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function clears the error state of the AFC system, sets the in_toolchange flag to False,
runs the resume script, and restores the toolhead position to the last saved position.  </p>
<p>Usage: <code>AFC_RESUME</code><br />
Example: <code>AFC_RESUME</code>  </p>
<h3 id="afc_status">AFC_STATUS<a class="headerlink" href="#afc_status" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function generates a status message for each unit and lane, indicating the preparation,
loading, hub, and tool states. The status message is formatted with HTML tags for display.  </p>
<p>Usage: <code>AFC_STATUS</code><br />
Example: <code>AFC_STATUS</code>  </p>
<h3 id="all_calibration">ALL_CALIBRATION<a class="headerlink" href="#all_calibration" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Open a prompt to confirm calibration of all lanes in all units. Provides 'Yes' to confirm and 'Back' to
return to the previous menu.  </p>
<p>Usage: <code>ALL_CALIBRATION</code><br />
Example: <code>ALL_CALIBRATION</code>  </p>
<h3 id="calibrate_afc">CALIBRATE_AFC<a class="headerlink" href="#calibrate_afc" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function performs the calibration of the hub and Bowden length for one or more lanes within an AFC
(Automated Filament Control) system. The function uses precise movements to adjust the positions of the
steppers, check the state of the hubs and tools, and calculate distances for calibration based on the
user-provided input. If no specific lane is provided, the function defaults to notifying the user that no lane has been selected. The function also includes
the option to calibrate the Bowden length for a particular lane, if specified.  </p>
<p>Usage: <code>CALIBRATE_AFC LANE=&lt;lane&gt; DISTANCE=&lt;distance&gt; TOLERANCE=&lt;tolerance&gt; BOWDEN=&lt;lane&gt;</code><br />
Example: <code>CALIBRATE_AFC LANE=lane1</code>  </p>
<h3 id="change_tool">CHANGE_TOOL<a class="headerlink" href="#change_tool" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles the tool change process. It retrieves the lane specified by the 'LANE' parameter,
checks the filament sensor, saves the current position, and performs the tool change by unloading the
current lane and loading the new lane.
Optionally setting PURGE_LENGTH parameter to pass a value into poop macro.  </p>
<p>Usage: <code>CHANGE_TOOL LANE=&lt;lane&gt; PURGE_LENGTH=&lt;purge_length&gt;(optional value)</code><br />
Example: <code>CHANGE_TOOL LANE=lane1 PURGE_LENGTH=100</code>  </p>
<h3 id="get_tip_forming">GET_TIP_FORMING<a class="headerlink" href="#get_tip_forming" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Shows the tip forming configuration  </p>
<p>Usage: <code>GET_TIP_FORMING</code><br />
Example: <code>GET_TIP_FORMING</code>  </p>
<h3 id="hub_cut_test">HUB_CUT_TEST<a class="headerlink" href="#hub_cut_test" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function tests the cutting sequence of the hub cutter for a specified lane.
It retrieves the lane specified by the 'LANE' parameter, performs the hub cut,
and responds with the status of the operation.  </p>
<p>Usage: <code>HUB_CUT_TEST LANE=&lt;lane&gt;</code><br />
Example: <code>HUB_CUT_TEST LANE=lane1</code>  </p>
<h3 id="hub_load">HUB_LOAD<a class="headerlink" href="#hub_load" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles the loading of a specified lane into the hub. It performs
several checks and movements to ensure the lane is properly loaded.  </p>
<p>Usage: <code>HUB_LOAD LANE=&lt;lane&gt;</code><br />
Example: <code>HUB_LOAD LANE=lane1</code>  </p>
<h3 id="lane_move">LANE_MOVE<a class="headerlink" href="#lane_move" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles the manual movement of a specified lane. It retrieves the lane
specified by the 'LANE' parameter and moves it by the distance specified by the 'DISTANCE' parameter.<br />
Distance's lower than 200 moves extruder at short_move_speed/accel, values above 200 move extruder at long_move_speed/accel  </p>
<p>Usage: <code>LANE_MOVE LANE=&lt;lane&gt; DISTANCE=&lt;distance&gt;</code><br />
Example: <code>LANE_MOVE LANE=lane1 DISTANCE=100</code>  </p>
<h3 id="lane_unload">LANE_UNLOAD<a class="headerlink" href="#lane_unload" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles the unloading of a specified lane from the extruder. It performs
several checks and movements to ensure the lane is properly unloaded.  </p>
<p>Usage: <code>LANE_UNLOAD LANE=&lt;lane&gt;</code><br />
Example: <code>LANE_UNLOAD LANE=lane1</code>  </p>
<h3 id="query_buffer">QUERY_BUFFER<a class="headerlink" href="#query_buffer" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Reports the current state of the buffer sensor and, if applicable, the rotation
distance of the current AFC stepper motor.  </p>
<p>Usage: <code>QUERY_BUFFER BUFFER=&lt;buffer_name&gt;</code><br />
Example: <code>QUERY_BUFFER BUFFER=TN</code>  </p>
<h3 id="reset_afc_mapping">RESET_AFC_MAPPING<a class="headerlink" href="#reset_afc_mapping" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This commands resets all tool lane mapping to the order that is setup in configuration. Useful to put in your PRINT_END macro to reset mapping  </p>
<p>Usage: <code>RESET_AFC_MAPPING</code><br />
Example: <code>RESET_AFC_MAPPING</code>  </p>
<h3 id="reset_failure">RESET_FAILURE<a class="headerlink" href="#reset_failure" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function clears the error state of the AFC system by setting the error state to False.  </p>
<p>Usage: <code>RESET_FAILURE</code><br />
Example: <code>RESET_FAILURE</code>  </p>
<h3 id="save_extruder_values">SAVE_EXTRUDER_VALUES<a class="headerlink" href="#save_extruder_values" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Macro call to write tool_stn, tool_stn_unload and tool_sensor_after_extruder variables to config file for specified extruder.  </p>
<p>Usage: <code>SAVE_EXTRUDER_VALUES EXTRUDER=&lt;extruder&gt;</code><br />
Example: <code>SAVE_EXTRUDER_VALUES EXTRUDER=extruder</code>  </p>
<h3 id="save_hub_dist">SAVE_HUB_DIST<a class="headerlink" href="#save_hub_dist" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Macro call to write dist_hub variable to config file for specified lane.  </p>
<p>Usage: <code>SAVE_HUB_DIST LANE=&lt;lane_name&gt;</code><br />
Example: <code>SAVE_HUB_DIST LANE=lane1</code>  </p>
<h3 id="save_speed_multiplier">SAVE_SPEED_MULTIPLIER<a class="headerlink" href="#save_speed_multiplier" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Macro call to write fwd_speed_multiplier and rwd_speed_multiplier variables to config file for specified lane.  </p>
<p>Usage: <code>SAVE_SPEED_MULTIPLIER LANE=&lt;lane_name&gt;</code><br />
Example: <code>SAVE_SPEED_MULTIPLIER LANE=lane1</code>  </p>
<h3 id="set_afc_toolchanges">SET_AFC_TOOLCHANGES<a class="headerlink" href="#set_afc_toolchanges" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This macro can be used to set total number of toolchanges from slicer. AFC will keep track of tool changes and print out
current tool change number when a T(n) command is called from gcode.<br />
The following call can be added to the slicer by adding the following lines to Change filament G-code section in your slicer.
You may already have <code>T[next_extruder]</code>, just make sure the toolchange call is after your T(n) call
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>T[next_extruder]
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>{ if toolchange_count == 1 }SET_AFC_TOOLCHANGES TOOLCHANGES=[total_toolchanges]{endif }
</span></code></pre></div>
The following can also be added to your <code>PRINT_END</code> section in your slicer to set number of toolchanges back to zero
<code>SET_AFC_TOOLCHANGES TOOLCHANGES=0</code>  </p>
<p>Usage: <code>SET_AFC_TOOLCHANGES TOOLCHANGES=&lt;number&gt;</code><br />
Example: <code>SET_AFC_TOOLCHANGES TOOLCHANGES=100</code>  </p>
<h3 id="set_bowden_length">SET_BOWDEN_LENGTH<a class="headerlink" href="#set_bowden_length" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function adjusts the length of the Bowden tube between the hub and the toolhead.
It retrieves the hub specified by the 'HUB' parameter and the length adjustment specified
by the 'LENGTH' parameter. UNLOAD_LENGTH adjusts unload Bowden length. If the hub is not specified
and a lane is currently loaded, it uses the hub of the current lane. To reset length back to config
value, pass in <code>reset</code> for each length to reset to value in config file. Adding +/- in front of the
length will increase/decrease bowden length by that amount.  </p>
<p>Usage: <code>SET_BOWDEN_LENGTH HUB=&lt;hub&gt; LENGTH=&lt;length&gt; UNLOAD_LENGTH=&lt;length&gt;</code><br />
Example: <code>SET_BOWDEN_LENGTH HUB=Turtle_1 LENGTH=+100 UNLOAD_LENGTH=-100</code>  </p>
<h3 id="set_buffer_multiplier">SET_BUFFER_MULTIPLIER<a class="headerlink" href="#set_buffer_multiplier" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles the adjustment of the buffer multipliers for the turtleneck buffer.
It retrieves the multiplier type ('HIGH' or 'LOW') and the factor to be applied. The function
ensures that the factor is valid and updates the corresponding multiplier.  </p>
<p>Usage: <code>SET_BUFFER_MULTIPLIER BUFFER=&lt;buffer_name&gt; MULTIPLIER=&lt;HIGH/LOW&gt; FACTOR=&lt;factor&gt;</code><br />
Example: <code>SET_BUFFER_MULTIPLIER BUFFER=TN MULTIPLIER=HIGH FACTOR=1.2</code>  </p>
<h3 id="set_buffer_velocity">SET_BUFFER_VELOCITY<a class="headerlink" href="#set_buffer_velocity" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Allows users to tweak buffer velocity setting while printing. This setting is not
saved in configuration. Please update your configuration file once you find a velocity that
works for your setup.  </p>
<p>Usage: <code>SET_BUFFER_VELOCITY BUFFER=&lt;buffer_name&gt; VELOCITY=&lt;value&gt;</code><br />
Example: <code>SET_BUFFER_VELOCITY BUFFER=TN2 VELOCITY=100</code>  </p>
<h3 id="set_color">SET_COLOR<a class="headerlink" href="#set_color" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles changing the color of a specified lane. It retrieves the lane
specified by the 'LANE' parameter and sets its color to the value provided by the 'COLOR' parameter.  </p>
<p>Usage: <code>SET_COLOR LANE=&lt;lane&gt; COLOR=&lt;color&gt;</code><br />
Example: <code>SET_COLOR LANE=lane1 COLOR=FF0000</code>  </p>
<h3 id="set_hub_dist">SET_HUB_DIST<a class="headerlink" href="#set_hub_dist" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function adjusts the distance between a lanes extruder and hub. Adding +/- in front of the length will
increase/decrease length by that amount. To reset length back to config value, pass in <code>reset</code> for length to
reset to value in config file.  </p>
<p>Usage: <code>SET_HUB_DIST LANE=&lt;lane_name&gt; LENGTH=+/-&lt;fwd_multiplier&gt;</code><br />
Example: <code>SET_HUB_DIST LANE=lane1 LENGTH=+100</code>  </p>
<h3 id="set_lane_loaded">SET_LANE_LOADED<a class="headerlink" href="#set_lane_loaded" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This macro handles manually setting a lane loaded into the toolhead. This is useful when manually loading lanes
during prints after AFC detects an error when loading/unloading and pauses. If there is a lane already loaded this macro
will also desync that lane extruder from the toolhead extruder and set its values and led appropriately.<br />
Retrieves the lane specified by the 'LANE' parameter and set the appropriate values in AFC to continue using the lane.  </p>
<p>Usage: <code>SET_LANE_LOADED LANE=&lt;lane&gt;</code><br />
Example: <code>SET_LANE_LOADED LANE=lane1</code>  </p>
<h3 id="set_map">SET_MAP<a class="headerlink" href="#set_map" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles changing the GCODE tool change command for a Lane.  </p>
<p>Usage: <code>SET_MAP LANE=&lt;lane&gt; MAP=&lt;cmd&gt;</code><br />
Example: <code>SET_MAP LANE=lane1 MAP=T1</code>  </p>
<h3 id="set_material">SET_MATERIAL<a class="headerlink" href="#set_material" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles changing the material of a specified lane. It retrieves the lane
specified by the 'LANE' parameter and sets its material to the value provided by the 'MATERIAL' parameter.  </p>
<p>Usage: <code>SET_MATERIAL LANE=&lt;lane&gt; MATERIAL=&lt;material&gt;</code><br />
Example: <code>SET_MATERIAL LANE=lane1 MATERIAL=ABS</code>  </p>
<h3 id="set_rotation_factor">SET_ROTATION_FACTOR<a class="headerlink" href="#set_rotation_factor" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Adjusts the rotation distance of the current AFC stepper motor by applying a
specified factor. If no factor is provided, it defaults to 1.0, which resets
the rotation distance to the base value.  </p>
<p>Usage: <code>SET_ROTATION_FACTOR BUFFER=&lt;buffer_name&gt; FACTOR=&lt;factor&gt;</code><br />
Example: <code>SET_ROTATION_FACTOR BUFFER=TN FACTOR=1.2</code>  </p>
<h3 id="set_runout">SET_RUNOUT<a class="headerlink" href="#set_runout" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles setting the runout lane (infinite spool) for a specified lane. It retrieves the lane
specified by the 'LANE' parameter and updates its the lane to use if filament runs out by untriggering prep sensor  </p>
<p>Usage: <code>SET_RUNOUT LANE=&lt;lane&gt; RUNOUT=&lt;lane&gt;</code><br />
Example: <code>SET_RUNOUT LANE=lane1 RUNOUT=lane4</code>  </p>
<h3 id="set_speed_multiplier">SET_SPEED_MULTIPLIER<a class="headerlink" href="#set_speed_multiplier" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Macro call to update fwd_speed_multiplier or rwd_speed_multiplier values without having to set in config and restart klipper. This macro allows adjusting
these values while printing. Multiplier values must be between 0.0 - 1.0  </p>
<p>Use FWD variable to set forward multiplier, use RWD to set reverse multiplier  </p>
<p>After running this command run SAVE_SPEED_MULTIPLIER LANE=<lane_name> to save value to config file  </p>
<p>Usage: <code>SET_SPEED_MULTIPLIER LANE=&lt;lane_name&gt; FWD=&lt;fwd_multiplier&gt; RWD=&lt;rwd_multiplier&gt;</code><br />
Example: <code>SET_SPEED_MULTIPLIER LANE=lane1 RWD=0.9</code>  </p>
<h3 id="set_spool_id">SET_SPOOL_ID<a class="headerlink" href="#set_spool_id" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles setting the spool ID for a specified lane. It retrieves the lane
specified by the 'LANE' parameter and updates its spool ID, material, color, and weight
based on the information retrieved from the Spoolman API.  </p>
<p>Usage: <code>SET_SPOOL_ID LANE=&lt;lane&gt; SPOOL_ID=&lt;spool_id&gt;</code><br />
Example: <code>SET_SPOOL_ID LANE=lane1 SPOOL_ID=12345</code>  </p>
<h3 id="set_tip_forming">SET_TIP_FORMING<a class="headerlink" href="#set_tip_forming" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Sets the tip forming configuration
Unspecified ones are left unchanged. True boolean values (use_skinnydip) are specified as "true"
(case insensitive); every other values is considered as "false".
Note: this will not update the configuration file. To make settings permanent, update the configuration file
manually.  </p>
<p>Usage: <code>SET_TIP_FORMING PARAMETER=VALUE ...</code><br />
Example: <code>SET_TIP_FORMING ramming_volume=20 toolchange_temp=220</code>  </p>
<h3 id="set_weight">SET_WEIGHT<a class="headerlink" href="#set_weight" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles changing the material of a specified lane. It retrieves the lane
specified by the 'LANE' parameter and sets its material to the value provided by the 'MATERIAL' parameter.  </p>
<p>Usage: <code>SET_WEIGHT LANE=&lt;lane&gt; WEIGHT=&lt;weight&gt;</code><br />
Example: <code>SET_WEIGHT LANE=lane1 WEIGHT=850</code>  </p>
<h3 id="test">TEST<a class="headerlink" href="#test" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function tests the assist motors of a specified lane at various speeds.
It performs the following steps:
1. Retrieves the lane specified by the 'LANE' parameter.
2. Tests the assist motor at full speed, 50%, 30%, and 10% speeds.
3. Reports the status of each test step.  </p>
<p>Usage: <code>TEST LANE=&lt;lane&gt;</code><br />
Example: <code>TEST LANE=lane1</code>  </p>
<h3 id="test_afc_tip_forming">TEST_AFC_TIP_FORMING<a class="headerlink" href="#test_afc_tip_forming" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Gives ability to test AFC tip forming without doing a tool change  </p>
<p>Usage: <code>TEST_AFC_TIP_FORMING</code><br />
Example: <code>TEST_AFC_TIP_FORMING</code>  </p>
<h3 id="tool_load">TOOL_LOAD<a class="headerlink" href="#tool_load" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles the loading of a specified lane into the tool. It retrieves
the lane specified by the 'LANE' parameter and calls the TOOL_LOAD method to perform
the loading process.<br />
Optionally setting PURGE_LENGTH parameter to pass a value into poop macro.  </p>
<p>Usage: <code>TOOL_LOAD LANE=&lt;lane&gt; PURGE_LENGTH=&lt;purge_length&gt;(optional value)</code><br />
Example: <code>TOOL_LOAD LANE=lane1 PURGE_LENGTH=80</code>  </p>
<h3 id="tool_unload">TOOL_UNLOAD<a class="headerlink" href="#tool_unload" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This function handles the unloading of a specified lane from the tool head. It retrieves
the lane specified by the 'LANE' parameter or uses the currently loaded lane if no parameter
is provided, and calls the TOOL_UNLOAD method to perform the unloading process.  </p>
<p>Usage: <code>TOOL_UNLOAD LANE=&lt;lane&gt;</code><br />
Example: <code>TOOL_UNLOAD LANE=lane1</code>  </p>
<h3 id="turn_off_afc_led">TURN_OFF_AFC_LED<a class="headerlink" href="#turn_off_afc_led" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This macro handles turning off all LEDs for AFC_led configurations. Color for LEDs are saved if colors are changed while they are turned off.  </p>
<p>Usage: <code>TURN_OFF_AFC_LED</code><br />
Example: <code>TURN_OFF_AFC_LED</code>  </p>
<h3 id="turn_on_afc_led">TURN_ON_AFC_LED<a class="headerlink" href="#turn_on_afc_led" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: This macro handles turning on all LEDs for AFC_led configurations. LEDs are restored to last previous state.  </p>
<p>Usage: <code>TURN_ON_AFC_LED</code><br />
Example: <code>TURN_ON_AFC_LED</code>  </p>
<h3 id="unit_bow_calibration">UNIT_BOW_CALIBRATION<a class="headerlink" href="#unit_bow_calibration" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Open a prompt to calibrate the Bowden length for a specific lane in the selected unit. Provides buttons
for each lane, with a note to only calibrate one lane per unit.  </p>
<p>Usage: <code>UNIT_CALIBRATION UNIT=&lt;unit&gt;</code><br />
Example: <code>UNIT_CALIBRATION UNIT=Turtle_1</code>  </p>
<h3 id="unit_calibration">UNIT_CALIBRATION<a class="headerlink" href="#unit_calibration" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Open a prompt to calibrate either the distance between the extruder and the hub or the Bowden length
for the selected unit. Provides buttons for lane calibration, Bowden length calibration, and a back option.  </p>
<p>Usage: <code>UNIT_CALIBRATION UNIT=&lt;unit&gt;</code><br />
Example: <code>UNIT_CALIBRATION UNIT=Turtle_1</code>  </p>
<h3 id="unit_lane_calibration">UNIT_LANE_CALIBRATION<a class="headerlink" href="#unit_lane_calibration" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Open a prompt to calibrate the extruder-to-hub distance for each lane in the selected unit. Creates buttons
for each lane, grouped in sets of two, and allows calibration for all lanes or individual lanes.  </p>
<p>Usage: <code>UNIT_LANE_CALIBRATION UNIT=&lt;unit&gt;</code><br />
Example: <code>UNIT_LANE_CALIBRATION UNIT=Turtle_1</code>  </p>
<h3 id="unset_lane_loaded">UNSET_LANE_LOADED<a class="headerlink" href="#unset_lane_loaded" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Unsets current lane from AFC loaded status. Mainly this would be used if AFC thinks that there is a lane loaded into the toolhead
but nothing is actually loaded. Retrieves the lane specified by the 'LANE' parameter and set the appropriate values in AFC to continue using the lane.  </p>
<p>Usage: <code>UNSET_LANE_LOADED</code><br />
Example: <code>UNSET_LANE_LOADED</code>  </p>
<h3 id="update_toolhead_sensors">UPDATE_TOOLHEAD_SENSORS<a class="headerlink" href="#update_toolhead_sensors" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Macro call to adjust <code>tool_stn</code>`tool_stn_unload<code>\</code>tool_sensor_after_extruder` lengths for specified extruder without having to update config file and restart klipper.  </p>
<p><code>tool_stn length</code> is the length from the sensor before extruder gears (tool_start) to nozzle. If sensor after extruder gears(tool_end)
is set then the value if from tool_end sensor.  </p>
<p><code>tool_stn_unload</code> length is the length to unload so that filament is not in extruder gears anymore.  </p>
<p><code>tool_sensor_after_extruder</code> length is mainly used for those that have a filament sensor after extruder gears, target this
length to retract filament enough so that it's not in the extruder gears anymore.  </p>
<p>Please pause print if you need to adjust this value while printing  </p>
<p>Usage: <code>UPDATE_TOOLHEAD_SENSORS EXTRUDER=&lt;extruder&gt; TOOL_STN=&lt;length&gt; TOOL_STN_UNLOAD=&lt;length&gt; TOOL_AFTER_EXTRUDER=&lt;length&gt;</code><br />
Example: <code>UPDATE_TOOLHEAD_SENSORS EXTRUDER=extruder TOOL_STN=100</code>  </p>
<h2 id="afc-macros">AFC Macros<a class="headerlink" href="#afc-macros" title="Permanent link">&para;</a></h2>
<p>The following macros are defined in the <code>config/macros/AFC_macros.cfg</code> file.
These macros can be executed either from the console, called from another macro, or triggered through 
the Mainsail or Fluidd web interfaces.</p>
<h3 id="bt_tool_unload">BT_TOOL_UNLOAD<a class="headerlink" href="#bt_tool_unload" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Unloads the currently loaded lane</p>
<h3 id="bt_change_tool">BT_CHANGE_TOOL<a class="headerlink" href="#bt_change_tool" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Switch to a new lane by ejecting the previously loaded one and then load the lane specified by LANE parameter. Lane parameter is an integer and defaults to 1. ex. <code>BT_CHANGE_TOOL LANE=2</code></p>
<h3 id="bt_lane_eject">BT_LANE_EJECT<a class="headerlink" href="#bt_lane_eject" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Fully eject the filament from the lane so spool can be removed. Lane parameter is an integer and defaults to 1. ex. <code>BT_LANE_EJECT LANE=2</code></p>
<h3 id="bt_lane_move">BT_LANE_MOVE<a class="headerlink" href="#bt_lane_move" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Move the specified lane the specified amount. Lane parameter is an integer and defaults to 1. Distance parameter is and integer and defaults to 20. Distance over 200 uses long load speeds. ex <code>BT_LANE_MOVE LANE=2 DISTANCE=100</code></p>
<h3 id="bt_resume">BT_RESUME<a class="headerlink" href="#bt_resume" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Resume the print after an error, using normal resume will also call AFC_RESUME</p>
<h3 id="bt_prep">BT_PREP<a class="headerlink" href="#bt_prep" title="Permanent link">&para;</a></h3>
<p><em>Description</em>: Run the AFC PREP sequence</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 - 2025 Armored Turtle  <a href="#__consent">Change cookie settings</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "search.suggest", "search.highlight", "search.share", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.path"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>